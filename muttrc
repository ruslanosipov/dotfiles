auto_view text/html
bind editor <space> noop
set copy              = no
set edit_headers
set editor            = "vim +/^$ ++1"
set folder            = "imaps://imap.gmail.com/"
set hostname          = "gmail.com"
set imap_check_subscribed
set mail_check        = 5
set message_cachedir  = /usr/local/google/home/$LOGNAME/Mail/mutt_message_cache
set move              = no
set postponed         = "+[Gmail]/Drafts"
set sort              = threads
set spoolfile         = "+INBOX"
set text_flowed       = yes
unset imap_passive
unset record

# Gmail-style keyboard shortcuts.
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index gs "<change-folder>=[Gmail]/Sent Mail<enter>" "Go to sent messages"
macro index gt "<change-folder>=[Gmail]/Trash<enter>" "Go to trash"
macro index,pager d "<save-message>=[Gmail]/Trash<enter><enter>" "Trash"
macro index,pager y "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive"
macro pager \cb "<pipe-message>urlscan<enter>" "Follow links with urlscan"

# Vi-like key bindings.
bind index gg      first-entry
bind index G       last-entry
bind index <space> collapse-thread

# Load default account.
source "~/.mutt/account_1"

# Switch between accounts.
macro index <f2> "<sync-mailbox><enter-command>source ~/.mutt/account_1<enter><change-folder>!<enter>"
macro index <f3> "<sync-mailbox><enter-command>source ~/.mutt/account_2<enter><change-folder>!<enter>"
macro index <f3> "<sync-mailbox><enter-command>source ~/.mutt/account_3<enter><change-folder>!<enter>"

# Use abook as an address book.
bind editor <Tab>     complete-query
set my_abook          = "abook --datafile ~/Dropbox/doc/aliases"
set query_command     = "$my_abook --mutt-query '%s'"
macro generic,index,pager A "<shell-escape>$my_abook<return>" "Launch abook"
macro index,pager a "<pipe-message>$my_abook --add-email<return>" "Add to abook"

# Fancy colorscheme.
source "~/.mutt/mutt-colors-solarized-dark-256"
